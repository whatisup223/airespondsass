# دليل رفع المشروع على استضافة مشتركة (Shared Hosting)

نعم، يمكن رفع هذا المشروع (Laravel 10 + Vite) على استضافة مشتركة بسهولة. إليك الخطوات بالتفصيل:

## 1. المتطلبات الأولية
- **PHP 8.1** أو أعلى على الاستضافة.
- قاعدة بيانات **MySQL** (إذا كنت ستستعمل قاعدة بيانات).

## 2. تجهيز المشروع محلياً (على جهازك)
بما أن الاستضافة المشتركة لا تدعم تشغيل أوامر `npm` أو `composer` غالباً، يجب تجهيز الملفات قبل الرفع:

1. **بناء ملفات التصميم (CSS/JS):**
   افتح التيرمينال في مجلد المشروع ونفذ:
   ```bash
   npm run build
   ```
   هذا سيقوم بإنشاء مجلد `public/build` الذي يحتوي على ملفات التصميم النهائية.

2. **تجهيز ملفات PHP:**
   لتقليل حجم الرفع وللأمان، نفذ الأمر التالي لتجهيز مكتبات الإنتاج فقط:
   ```bash
   composer install --optimize-autoloader --no-dev
   ```

3. **ضغط الملفات:**
   قم بضغط مجلد المشروع بالكامل (ما عدا `node_modules` و `.git`) في ملف `project.zip`.

## 3. الرفع على الاستضافة (cPanel أو غيرها)

هناك طريقتان للرفع، الطريقة **الآمنة** (Best Practice) والطريقة **السريعة**.

### الطريقة الآمنة (موصى بها جداً)
تحافظ هذه الطريقة على ملفات الكود (`app`, `routes`, `vendor`, ...) بعيداً عن الوصول العام، وفقط مجلد `public` هو المتاح للزوار.

1. **إنشاء مجلد للمشروع:**
   في مدير الملفات (File Manager)، أنشئ مجلداً جديداً في المسار الرئيسي (بجوار `public_html` وليس داخله)، سمّه مثلاً `laravel_app`.

2. **رفع الملفات:**
   ارفع ملف `project.zip` داخل مجلد `laravel_app` وقم بفك الضغط.

3. **نقل ملفات Public:**
   - ادخل إلى مجلد `laravel_app/public`.
   - حدد **جميع الملفات** (بما في ذلك `.htaccess` و `index.php` ومجلد `build`).
   - انقلها (Move) إلى مجلد `public_html` (أو المجلد الفرعي الخاص بالدومين).

4. **تعديل ملف index.php:**
   بعد نقل الملفات إلى `public_html`، افتح ملف `index.php` الموجود الآن في `public_html` لتعديل المسارات:

   ابحث عن السطرين التاليين وعدلهما ليشيروا للمكان الصحيح لمجلد `laravel_app`:

   ```php
   // قبل التعديل (تقريباً)
   require __DIR__.'/../vendor/autoload.php';
   $app = require_once __DIR__.'/../bootstrap/app.php';

   // بعد التعديل (حسب اسم المجلد الذي أنشأته)
   require __DIR__.'/../laravel_app/vendor/autoload.php';
   $app = require_once __DIR__.'/../laravel_app/bootstrap/app.php';
   ```

5. **إعداد ملف .env:**
   - انسخ ملف `.env.example` الموجود في `laravel_app` وأعد تسميته إلى `.env`.
   - عدل البيانات:
     - `APP_URL`: رابط موقعك (مثلاً `https://yourdomain.com`).
     - `APP_ENV`: اجعلها `production`.
     - `APP_DEBUG`: اجعلها `false` (مهم جداً للأمان).
     - بيانات قاعدة البيانات (`DB_DATABASE`, `DB_USERNAME`, etc.).

---

### ملاحظات هامة
- **مشكلة الصور والملفات:** تأكد أن مجلد `storage/app/public` مربوط بشكل صحيح. في الاستضافات المشتركة قد تحتاج لإنشاء `symlink` يدوياً أو عن طريق cron job إذا لم يكن لديك وصول SSH.
  الكود لعمل Symlink عبر PHP (ضعه في ملف `link.php` وشغله مرة واحدة):
  ```php
  <?php
  symlink('/path/to/laravel_app/storage/app/public', '/path/to/public_html/storage');
  echo "Done";
  ?>
  ```

- **تعديل الصلاحيات:** تأكد أن مجلدات `storage` و `bootstrap/cache` لها صلاحيات كتابة (775 أو 777 حسب الاستضافة).
